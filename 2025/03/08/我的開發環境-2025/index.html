<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/gg.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/gg.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/gg.png">
  <link rel="mask-icon" href="/images/gg.png" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-171640966-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-171640966-1');
</script>

<style>
    @font-face {
        /* font-family: "JasonHandwriting1-Regular"; */
/*
        src: url(https://cdn.jsdelivr.net/gh/max32002/JasonHandWritingFonts@20210716/webfont/JasonHandwriting1-Regular.woff2) format("woff2"), url(https://cdn.jsdelivr.net/gh/max32002/JasonHandWritingFonts@20210716/webfont/JasonHandwriting1-Regular.woff) format("woff");
		*/

        font-family: "俐方體11號";
        src: url(/fonts/Cubic_11_1.000_R.woff) format("woff")
    }
</style>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.blog.lasai.com.tw","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"default"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta name="description" content="&amp;nbsp;">
<meta property="og:type" content="article">
<meta property="og:title" content="我的開發環境 2025">
<meta property="og:url" content="https://www.blog.lasai.com.tw/2025/03/08/%E6%88%91%E7%9A%84%E9%96%8B%E7%99%BC%E7%92%B0%E5%A2%83-2025/index.html">
<meta property="og:site_name" content="🌹 喇賽的人 Blog 🌹">
<meta property="og:description" content="&amp;nbsp;">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2025-03-07T19:35:39.000Z">
<meta property="article:modified_time" content="2025-03-17T07:21:32.155Z">
<meta property="article:author" content="🌹 喇賽人 🌹">
<meta property="article:tag" content="喇賽">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://www.blog.lasai.com.tw/2025/03/08/%E6%88%91%E7%9A%84%E9%96%8B%E7%99%BC%E7%92%B0%E5%A2%83-2025/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-TW'
  };
</script>

  <title>我的開發環境 2025 | 🌹 喇賽的人 Blog 🌹</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-171640966-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-171640966-1');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  <!-- google ad -->
  <!--
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1069539516107706"
     crossorigin="anonymous"></script>
  -->
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <!--
  <div class="spell" ></div>
  <div class="ghost" style="display: none;"></div>
  <div class="noise"></div>
  <div class="noise2"></div>
  -->


  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">🌹 喇賽的人 Blog 🌹</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">🌹 喇低喇賽 🌹</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>真喇賽</a>

  </li>
        <li class="menu-item menu-item-map">

    <a href="/map/" rel="section"><i class="fa fa-map fa-fw"></i>喇賽人的奇怪美食地圖</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>關於喇賽人</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>喇賽的標籤</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>喇賽亂寫</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜尋
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜尋..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://www.blog.lasai.com.tw/2025/03/08/%E6%88%91%E7%9A%84%E9%96%8B%E7%99%BC%E7%92%B0%E5%A2%83-2025/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="🌹 喇賽人 🌹">
      <meta itemprop="description" content="🌹 喇賽人的 Blog 🌹">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="🌹 喇賽的人 Blog 🌹">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          我的開發環境 2025
        </h1>

        <div class="post-meta">
		
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">亂寫於</span>

              <time title="亂入時間：2025-03-08 03:35:39" itemprop="dateCreated datePublished" datetime="2025-03-08T03:35:39+08:00">2025-03-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2025-03-17 15:21:32" itemprop="dateModified" datetime="2025-03-17T15:21:32+08:00">2025-03-17</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2025/03/08/%E6%88%91%E7%9A%84%E9%96%8B%E7%99%BC%E7%92%B0%E5%A2%83-2025/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2025/03/08/我的開發環境-2025/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="廢話字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">廢話字數：</span>
              <span>7k</span>
            </span>
            <span class="post-meta-item" title="所需傷眼時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">所需傷眼時間 &asymp;</span>
              <span>6 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>&nbsp;</p>
<a id="more"></a>

<p>最近因為離職很低落的關係, 人燒了, 沒想到機器也跟著一起燒了, 只好噴錢搞台新的筆電來辦公, 換成 win11 還真不習慣</p>
<h2 id="改回-win10-舊版選單"><a href="#改回-win10-舊版選單" class="headerlink" title="改回 win10 舊版選單"></a>改回 win10 舊版選單</h2><p>上來第一件事就是把開始右鍵改回舊版模式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;reg add &quot;HKCU\Software\Classes\CLSID\&#123;86ca1aa0-34aa-4e8b-a509-50c905bae2a2&#125;\InprocServer32&quot; &#x2F;f &#x2F;ve&quot;</span><br></pre></td></tr></table></figure>

<h2 id="輸入法切換"><a href="#輸入法切換" class="headerlink" title="輸入法切換"></a>輸入法切換</h2><p>因為自己比較習慣用 <code>win + space</code> 切換, 這樣 intellisense 才不會衝突, 詳細 <a href="https://blog.miniasp.com/post/2020/03/19/Devs-must-setup-multi-language-input-method" target="_blank" rel="noopener">請看保哥</a> 核心就這四句</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$UserLanguageList &#x3D; New-WinUserLanguageList -Language &quot;zh-TW&quot;</span><br><span class="line">$UserLanguageList.Add(&quot;en-US&quot;)</span><br><span class="line">Set-WinUserLanguageList -LanguageList $UserLanguageList -Force</span><br><span class="line">Set-WinDefaultInputMethodOverride -InputTip &quot;0409:00000409&quot;</span><br></pre></td></tr></table></figure>

<h2 id="鍵盤問題"><a href="#鍵盤問題" class="headerlink" title="鍵盤問題"></a>鍵盤問題</h2><p>我這個鍵盤沒有 <code>home</code> 跟 <code>end</code> 他跟右邊數字 <code>7</code> 共用, 研究下發現要按 <code>fn</code> + <code>7</code> 就能用 <code>home</code><br>不然就是把 <code>NumLk</code> 開啟直接把他變成 <code>home</code></p>
<p>另外以前打 cs1.6 有一招急停步, 當時候會這樣調整, 可以讓鍵盤響應更快<br><code>win + r</code> =&gt; <code>control panel</code> =&gt; <code>keyboard</code> =&gt; <code>重複延遲設定最短</code> =&gt; <code>重複速度設定最快</code></p>
<h2 id="sudo"><a href="#sudo" class="headerlink" title="sudo"></a>sudo</h2><p>本來想說都上 win11 應該可以直接用 sudo 沒想到要 <code>24h2</code> 版本, 看著網路上的災情還是果斷放棄 XD</p>
<p>後來還是升級上去 <code>24h2</code> 就順便玩看看, 可以參考<a href="https://learn.microsoft.com/zh-tw/windows/sudo/" target="_blank" rel="noopener">官方</a></p>
<p><code>win</code> =&gt; <code>設定</code> =&gt; <code>系統</code> =&gt; <code>開發人員專用</code> =&gt; <code>啟用 sudo</code></p>
<h2 id="gsudo"><a href="#gsudo" class="headerlink" title="gsudo"></a>gsudo</h2><p>乖乖回去裝 <a href="https://github.com/gerardog/gsudo" target="_blank" rel="noopener">gsudo</a> 才不用每次都要管理員權限很難按</p>
<p>winget 在 win11 就直接有了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">winget install gerardog.gsudo</span><br></pre></td></tr></table></figure>

<h2 id="wsl"><a href="#wsl" class="headerlink" title="wsl"></a>wsl</h2><p>只要執行無腦命令 <code>wsl --install</code> 就搞定了, 印象中以前還要一堆麻煩步驟</p>
<p>如果想快速從 windows 開啟 wsl 檔案位置的話可以找到這個路徑<br><code>\\wsl.localhost\Ubuntu\home</code></p>
<p>或是直接在 wsl 裡面敲這個命令, 即可開啟目前 <code>wsl</code> 位置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explorer.exe .</span><br></pre></td></tr></table></figure>

<h2 id="chrome"><a href="#chrome" class="headerlink" title="chrome"></a>chrome</h2><p>雖然有 edge 但是 <a href="https://www.google.com/intl/zh-TW/chrome/?brand=YTUH&gclid=Cj0KCQjw3eeXBhD7ARIsAHjssr8oKWGTMVDaA16mwksZ0TJhTpE7StFhrqeDUoQukMZjB-kPKpxNmFgaAlHkEALw_wcB&gclsrc=aw.ds" target="_blank" rel="noopener">chrome</a> 用得更習慣些<br>身為 vim 的愛好者不免俗還是要安裝下 <a href="https://chrome.google.com/webstore/detail/vimium/dbepggeogbaibhgnhhndojpepiihcmeb" target="_blank" rel="noopener">Vimium</a></p>
<p>不曉得啥時開始 chrome console 會噴這個警告讓你不能貼 code 上去, 這個真是擾民!</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Warning: Don’t paste code into the DevTools Console that you don’t understand or haven’t reviewed yourself. This could allow attackers to steal your identity or take control of your computer. Please type ‘allow pasting’ below and hit Enter to allow pasting.</span><br></pre></td></tr></table></figure>

<p>只要敲入 <code>allow pasting</code> 就能解, 但是通常會忘記這串要手敲不能貼上 XD</p>
<h2 id="7zip"><a href="#7zip" class="headerlink" title="7zip"></a>7zip</h2><p>不曉得哪年開始都用 <a href="https://www.7-zip.org/" target="_blank" rel="noopener">7zip</a> 就放生 <a href="https://rar.tw/" target="_blank" rel="noopener">winrar</a> 二擇一即可</p>
<h2 id="firacode"><a href="#firacode" class="headerlink" title="firacode"></a>firacode</h2><p>不多說, coding 字體</p>
<p><a href="https://github.com/tonsky/FiraCode" target="_blank" rel="noopener">https://github.com/tonsky/FiraCode</a></p>
<p>安裝法就解壓後對著 <code>ttf</code> =&gt; <code>右鍵</code> =&gt; <code>為所有使用者安裝</code> 即可</p>
<h2 id="nerdfonts"><a href="#nerdfonts" class="headerlink" title="nerdfonts"></a>nerdfonts</h2><p><a href="https://www.nerdfonts.com/font-downloads" target="_blank" rel="noopener">https://www.nerdfonts.com/font-downloads</a></p>
<p>這個最好也下載, 設樣才會在 windows terminal 有好看的 icon, 我自己習慣用 <code>FiraCode Nerd Font</code></p>
<h2 id="notepad"><a href="#notepad" class="headerlink" title="notepad++"></a>notepad++</h2><p>身為一個打字員 <a href="https://notepad-plus-plus.org/downloads/" target="_blank" rel="noopener">notepad++</a> 應該是必備工具, 雖然是 vim 的愛好者, 不過這個也是無可取代</p>
<p>設定字體的話要找到 <code>設定</code> =&gt; <code>語法樣式配置器</code> 改成喜歡的字體即可</p>
<h2 id="NotepadReplacer"><a href="#NotepadReplacer" class="headerlink" title="NotepadReplacer"></a>NotepadReplacer</h2><p>裝了 notepad++ 第一件事就是安裝 <a href="https://www.binaryfortress.com/NotepadReplacer/" target="_blank" rel="noopener">NotepadReplacer</a> 好把預設的 <code>notepad</code> 命令換掉, 指令也少打兩個 ++</p>
<h2 id="postman"><a href="#postman" class="headerlink" title="postman"></a>postman</h2><p><a href="https://www.postman.com/downloads/" target="_blank" rel="noopener">postman</a> 如果可以的話也是不太想裝他, 偏偏 curl 命令也忘得差不多</p>
<h2 id="powershell-相關設定"><a href="#powershell-相關設定" class="headerlink" title="powershell 相關設定"></a>powershell 相關設定</h2><p>因為 <code>powershell5</code> 沒那麼好用, 所以直接上 <code>powershell7</code></p>
<p>即使到了 win11 預設還是 powershell 5.1</p>
<p><a href="https://learn.microsoft.com/zh-tw/powershell/scripting/whats-new/migrating-from-windows-powershell-51-to-powershell-7?view=powershell-7.4" target="_blank" rel="noopener">https://learn.microsoft.com/zh-tw/powershell/scripting/whats-new/migrating-from-windows-powershell-51-to-powershell-7?view=powershell-7.4</a></p>
<p>下載後執行以下設定</p>
<p>開啟 admin 設定允許執行 <code>Microsoft.PowerShell_profile.ps1</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gsudo Set-ExecutionPolicy RemoteSigned</span><br></pre></td></tr></table></figure>

<p>安裝 <code>Terminal-Icons</code> 模組</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gsudo Install-Module -Name Terminal-Icons -Repository PSGallery</span><br></pre></td></tr></table></figure>

<p>建立 <code>powershell</code> 的 <code>profile</code> 這裡要注意看是 <code>powershell5</code> or <code>powershell7</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">cd Documents</span><br><span class="line">#powershell5</span><br><span class="line">#mkdir WindowsPowerShell</span><br><span class="line">#cd WindowsPowerShell</span><br><span class="line"></span><br><span class="line">#powershell7</span><br><span class="line">mkdir PowerShell</span><br><span class="line">cd PowerShell</span><br><span class="line">New-Item &quot;Microsoft.PowerShell_profile.ps1&quot;</span><br></pre></td></tr></table></figure>

<p>撰寫設定 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">notepad $profile</span><br></pre></td></tr></table></figure>

<p>另外想要設定 <code>ctrl+v</code> 為貼上的話可以到 <code>設定</code> =&gt; <code>動作</code> =&gt; <code>新增動作</code> 然後把 <code>ctrl+v</code> 補上即可</p>
<h2 id="full-powershell-config"><a href="#full-powershell-config" class="headerlink" title="full powershell config"></a>full powershell config</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">#清除開頭煩人的訊息</span><br><span class="line">Clear-Host</span><br><span class="line"></span><br><span class="line">#emacs 模式</span><br><span class="line">Set-PSReadLineOption -EditMode Emacs</span><br><span class="line"></span><br><span class="line">#設定 tab 補全</span><br><span class="line">Set-PSReadlineKeyHandler -Chord Tab -Function MenuComplete</span><br><span class="line"></span><br><span class="line">#開啟歷史提示</span><br><span class="line">Set-PSReadLineOption -PredictionSource History</span><br><span class="line"></span><br><span class="line">#列表模式</span><br><span class="line">Set-PSReadLineOption -PredictionViewStyle ListView</span><br><span class="line"></span><br><span class="line">#改用 starship</span><br><span class="line">Invoke-Expression (&amp;starship init powershell)</span><br><span class="line"></span><br><span class="line">#美化 icon</span><br><span class="line">Import-Module -Name Terminal-Icons</span><br><span class="line"></span><br><span class="line">#設定 linux curl wget 而非 powershell 的功能</span><br><span class="line">IF (Test-Path Alias:curl) &#123; Remove-Item Alias:curl &#125;</span><br><span class="line">IF (Test-Path Alias:wget) &#123; Remove-Item Alias:wget &#125;</span><br><span class="line"></span><br><span class="line">#開啟 hosts</span><br><span class="line">function hosts &#123; notepad C:\windows\system32\drivers\etc\hosts &#125;</span><br><span class="line"></span><br><span class="line">#開啟 vsvimrc</span><br><span class="line">function vsvimrc &#123; notepad $HOME\_vsvimrc &#125;</span><br><span class="line"></span><br><span class="line">#開啟 vscode 的 settings.json</span><br><span class="line">function codesettings &#123; notepad $env:APPDATA\Code\User\settings.json &#125;</span><br><span class="line"></span><br><span class="line">#tig</span><br><span class="line">function tig &#123; &amp; &quot;C:\Program Files\Git\usr\bin\tig.exe&quot; &#125;</span><br><span class="line"></span><br><span class="line">#取得目前的 git repo</span><br><span class="line">function current-repo &#123; start chrome (git config remote.origin.url).Replace(&quot;.git&quot;,&quot;&quot;) &#125;</span><br><span class="line"></span><br><span class="line">#清除啟動以後的訊息</span><br><span class="line">clear</span><br></pre></td></tr></table></figure>


<h2 id="starship"><a href="#starship" class="headerlink" title="starship"></a>starship</h2><p>放生 oh-my-posh XD 改用 starship<br><a href="https://starship.rs/" target="_blank" rel="noopener">https://starship.rs/</a></p>
<p>安裝</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">winget install starship</span><br></pre></td></tr></table></figure>

<p>記得要把設定加進去 powershell 的 <code>$profile</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Invoke-Expression (&amp;starship init powershell)</span><br></pre></td></tr></table></figure>

<p>這裡設定完後記得要在 windows terminal 做以下設定, 不然 powershell 裡面設定 <code>Terminal-Icons</code> 模組是跑不出好看的圖示低</p>
<p><code>設定</code> =&gt; <code>預設值</code> =&gt; <code>外觀</code> =&gt; <code>字體</code> =&gt; <code>FiraCode Nerd Font</code></p>
<h2 id="github"><a href="#github" class="headerlink" title="github"></a>github</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen</span><br><span class="line">#SHA256:XXXXX yourname@yourpcname</span><br><span class="line"></span><br><span class="line">cd .ssh&#x2F;</span><br><span class="line">cat xxx.pub</span><br><span class="line">#ssh-ed25519 xxxxx&#x2F;&#x2F;xxxxx yourname@yourpcname</span><br></pre></td></tr></table></figure>

<p>萬一 commit git 噴以下錯誤, 請到這網址設定 <code>token</code> <a href="https://github.com/settings/tokens" target="_blank" rel="noopener">https://github.com/settings/tokens</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Username for &#39;https:&#x2F;&#x2F;github.com&#39;: yourname</span><br><span class="line">Password for &#39;https:&#x2F;&#x2F;yourname@github.com&#39;:</span><br><span class="line">remote: Support for password authentication was removed on August 13, 2021.</span><br><span class="line">remote: Please see https:&#x2F;&#x2F;docs.github.com&#x2F;get-started&#x2F;getting-started-with-git&#x2F;about-remote-repositories#cloning-with-https-urls for information on currently recommended modes of authentication.</span><br><span class="line">fatal: Authentication failed for &#39;https:&#x2F;&#x2F;github.com&#x2F;yourname&#x2F;yourname.github.io.git&#x2F;&#39;</span><br></pre></td></tr></table></figure>

<h2 id="PowerToys"><a href="#PowerToys" class="headerlink" title="PowerToys"></a>PowerToys</h2><p>會想安裝這個是因為長久以來一直都想把 <code>Caps Lock</code> 這個鍵改成 <code>Esc</code> 讓用 vim 時輕鬆點<br>另外新版電腦有 <code>Copilt</code> 這個按鍵佔據了右側的 <code>ctrl</code>, 也希望把它改為 <code>ctrl</code><br><code>Copilt</code> 鍵的原意是 <code>Win (Left)</code> + <code>Shift (Left)</code> + <code>F23</code></p>
<p>修改方法可以看這個討論<br><a href="https://answers.microsoft.com/en-us/windows/forum/all/how-can-i-customize-the-copilot-key-to-also/b651a831-8982-4843-b1eb-2aa555de6b45" target="_blank" rel="noopener">https://answers.microsoft.com/en-us/windows/forum/all/how-can-i-customize-the-copilot-key-to-also/b651a831-8982-4843-b1eb-2aa555de6b45</a></p>
<p><a href="https://github.com/microsoft/PowerToys" target="_blank" rel="noopener">PowerToys</a> 安裝如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">winget install Microsoft.PowerToys -s winget</span><br></pre></td></tr></table></figure>

<h2 id="顯示按鍵"><a href="#顯示按鍵" class="headerlink" title="顯示按鍵"></a>顯示按鍵</h2><p>之前都是用 <code>carnac</code> 這套<br>後來發現這個 <a href="https://github.com/microsoft/PowerToys/issues/981" target="_blank" rel="noopener">討論</a> 裡面有些其他同性質的, 不過用起來舊愛還是最美 LOL</p>
<p><a href="https://github.com/Code52/carnac" target="_blank" rel="noopener">https://github.com/Code52/carnac</a> - Unmaintained, does not work on most applications<br><a href="https://github.com/Phaiax/Key-n-Stroke" target="_blank" rel="noopener">https://github.com/Phaiax/Key-n-Stroke</a><br><a href="https://github.com/marius-sucan/KeyPress-OSD" target="_blank" rel="noopener">https://github.com/marius-sucan/KeyPress-OSD</a> - Commercial version available<br><a href="https://github.com/Jagailo/YetAnotherKeyDisplayer" target="_blank" rel="noopener">https://github.com/Jagailo/YetAnotherKeyDisplayer</a><br><a href="https://github.com/mulaRahul/keyviz" target="_blank" rel="noopener">https://github.com/mulaRahul/keyviz</a> - Quite new and looks good</p>
<h2 id="anaconda"><a href="#anaconda" class="headerlink" title="anaconda"></a>anaconda</h2><p>這次發現 <a href="https://www.anaconda.com/download" target="_blank" rel="noopener">官網</a> 又改版了 XD<br>要直接下載的話有個很小的字 <code>Skip registration</code> 哪天跟 Oracle 一樣都要登入才能下載也不意外了</p>
<p>安裝好後設定以下路徑到 <code>Path</code> 環境變數底下, 可以用 <code>PowerToys</code> 設定會更人性一點</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\youruser\anaconda3</span><br><span class="line">C:\Users\youruser\anaconda3\Scripts</span><br><span class="line">C:\Users\youruser\anaconda3\Library\bin</span><br></pre></td></tr></table></figure>

<p>每次安裝 <code>anaconda</code> 多多少少都有些驚喜跟意外, 沒有一次正常過的..<br>這次因為用 <code>powershell 7.5</code> <code>conda 24.11</code> 然後執行 <code>conda init</code> 以後就會噴以下錯誤</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">usage: conda-script.py [-h] [-v] [--no-plugins] [-V] COMMAND ...</span><br><span class="line">conda-script.py: error: argument COMMAND: invalid choice: &#39;&#39; (choose from &#39;activate&#39;, &#39;deactivate&#39;, &#39;clean&#39;, &#39;compare&#39;, &#39;config&#39;, &#39;create&#39;, &#39;env&#39;, &#39;export&#39;, &#39;info&#39;, &#39;init&#39;, &#39;install&#39;, &#39;list&#39;, &#39;notices&#39;, &#39;package&#39;, &#39;remove&#39;, &#39;uninstall&#39;, &#39;rename&#39;, &#39;run&#39;, &#39;search&#39;, &#39;update&#39;, &#39;upgrade&#39;, &#39;build&#39;, &#39;content-trust&#39;, &#39;convert&#39;, &#39;debug&#39;, &#39;develop&#39;, &#39;doctor&#39;, &#39;index&#39;, &#39;inspect&#39;, &#39;metapackage&#39;, &#39;render&#39;, &#39;repoquery&#39;, &#39;skeleton&#39;, &#39;server&#39;, &#39;token&#39;, &#39;repo&#39;, &#39;pack&#39;)</span><br><span class="line">Invoke-Expression: Cannot bind argument to parameter &#39;Command&#39; because it is an empty string.</span><br></pre></td></tr></table></figure>

<p>丟 chatgpt 問半天也問不出個毛, 然後 google 發現一堆老外一樣<a href="https://github.com/conda/conda/issues/14292" target="_blank" rel="noopener">哀鴻遍野</a> LOL ~<br>檢查 <code>powershell</code> 及 <code>conda</code> 版本命令如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$PSVersionTable.PSVersion</span><br><span class="line">conda -V</span><br></pre></td></tr></table></figure>

<p>照老外說 <code>conda 25.x</code> 就會正常, 然後執行 <code>conda</code> 更新根本就不會動 XD 還是停在 <code>24.x</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda update conda</span><br></pre></td></tr></table></figure>

<p>後來發現這個<a href="https://naiv.fun/Ops/118.html" target="_blank" rel="noopener">強國人</a> 有現成解法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conda install -n base conda&#x3D;25.1.1 -c conda-forge --override-channels --yes</span><br><span class="line">conda init --reverse</span><br><span class="line">conda init</span><br></pre></td></tr></table></figure>

<p>不過他是用 <code>oh-my-posh</code> 我是用 <code>starship</code> 沒啥大問題, 唯一就是預設不會顯示 <code>base</code> 環境<br>如果 <code>starship</code> 要正確顯示出目前 <code>base</code> 環境可以參考<a href="https://github.com/starship/starship/issues/6322" target="_blank" rel="noopener">這篇</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">starship config conda.ignore_base false</span><br></pre></td></tr></table></figure>

<p>最後就會長這樣, 灑花 ~</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">~ 🅒 base</span><br><span class="line">🌹</span><br></pre></td></tr></table></figure>

<h2 id="SSMS"><a href="#SSMS" class="headerlink" title="SSMS"></a>SSMS</h2><p><a href="https://learn.microsoft.com/zh-tw/ssms/download-sql-server-management-studio-ssms" target="_blank" rel="noopener">下載位置</a></p>
<p>這次安裝就直接發生意外了, 因為之前測試 vanna ai 有安裝 <code>Microsoft ODBC Driver 17 for SQL Server</code> 結果噴這個錯誤 <code>0x80070643</code><br>還好解法滿簡單的可以參考這篇<a href="https://learn.microsoft.com/zh-tw/ssms/troubleshoot/install-failed-requires-restart?view=sql-server-ver16" target="_blank" rel="noopener">官方說明</a><br>只要把 <code>Microsoft ODBC Driver 17 for SQL Server</code> 解除安裝然後重開電腦, 接著安裝 SSMS 即可</p>
<p>安裝好當然要測下能否動, 因為我先安裝 visual studio 所有有 localdb<br>連線字串在此 <code>(LocalDB)\MSSQLLocalDB</code><br>正常連線後設定英文 <code>工具</code> =&gt; <code>選項</code> =&gt; <code>環境</code> =&gt; <code>國際設定</code> =&gt; <code>English</code><br>其他應該沒啥要調的, 都 2025 了還是沒辦法用 vim QQ ~</p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2025/01/13/angular-%E5%AF%A6%E4%BD%9C%E9%A1%9E%E4%BC%BC-acejump-easymotion-%E5%8A%9F%E8%83%BD/" rel="prev" title="angular 實作類似 acejump easymotion 功能">
      <i class="fa fa-chevron-left"></i> angular 實作類似 acejump easymotion 功能
    </a></div>
      <div class="post-nav-item">
    <a href="/2025/03/27/asp-net-%E7%88%AC%E8%9F%B2%E7%AD%86%E8%A8%98/" rel="next" title="asp.net 爬蟲筆記">
      asp.net 爬蟲筆記 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#改回-win10-舊版選單"><span class="nav-number">1.</span> <span class="nav-text">改回 win10 舊版選單</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#輸入法切換"><span class="nav-number">2.</span> <span class="nav-text">輸入法切換</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#鍵盤問題"><span class="nav-number">3.</span> <span class="nav-text">鍵盤問題</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sudo"><span class="nav-number">4.</span> <span class="nav-text">sudo</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#gsudo"><span class="nav-number">5.</span> <span class="nav-text">gsudo</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#wsl"><span class="nav-number">6.</span> <span class="nav-text">wsl</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#chrome"><span class="nav-number">7.</span> <span class="nav-text">chrome</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7zip"><span class="nav-number">8.</span> <span class="nav-text">7zip</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#firacode"><span class="nav-number">9.</span> <span class="nav-text">firacode</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#nerdfonts"><span class="nav-number">10.</span> <span class="nav-text">nerdfonts</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#notepad"><span class="nav-number">11.</span> <span class="nav-text">notepad++</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#NotepadReplacer"><span class="nav-number">12.</span> <span class="nav-text">NotepadReplacer</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#postman"><span class="nav-number">13.</span> <span class="nav-text">postman</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#powershell-相關設定"><span class="nav-number">14.</span> <span class="nav-text">powershell 相關設定</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#full-powershell-config"><span class="nav-number">15.</span> <span class="nav-text">full powershell config</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#starship"><span class="nav-number">16.</span> <span class="nav-text">starship</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#github"><span class="nav-number">17.</span> <span class="nav-text">github</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PowerToys"><span class="nav-number">18.</span> <span class="nav-text">PowerToys</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#顯示按鍵"><span class="nav-number">19.</span> <span class="nav-text">顯示按鍵</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#anaconda"><span class="nav-number">20.</span> <span class="nav-text">anaconda</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SSMS"><span class="nav-number">21.</span> <span class="nav-text">SSMS</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="🌹 喇賽人 🌹"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">🌹 喇賽人 🌹</p>
  <div class="site-description" itemprop="description">🌹 喇賽人的 Blog 🌹</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">303</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">118</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/weber87na" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;weber87na" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

	  <!-- skilltree 廣告 -->
	  <div id="myadblock" style="margin-top:25px;position:relative">
	  <div id="myadblock-title" style="position:absolute;left:-10px;top:-10px;width:100px;background-color:rgba(0,0,0,.75);color:white;">偷放工商</div>
	  <script src="https://skilltree.my/promotion/cec9b4b0-be5e-4727-85c6-f7af5445124a?w=350"></script>
	  </div>

	  <!-- google 廣告 -->
	  <!--
	  <ins class="adsbygoogle"
		  style="display:inline-block;width:220px;height:120px;margin-top:50px;position:relative;border-bottom-left-radius: 15px 255px;border-bottom-right-radius: 225px 15px;border-top-left-radius: 255px 15px;border-top-right-radius: 15px 225px;border: 2px solid #41403e;"
		  data-ad-client="ca-pub-1069539516107706"
		  data-ad-slot="6588270137">
	  <div id="myadblock-title2" style="z-index:999999;position:absolute;left:-10px;top:-10px;width:100px;background-color:rgba(0,0,0,.75);color:white;">偷放工商</div>
	  </ins>
	  <script>
		  (adsbygoogle = window.adsbygoogle || []).push({});
	  </script>
	  -->

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">喇賽的人! G__G+</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">總廢話字數：</span>
    <span title="總廢話字數">1.6m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">所需總浪費時間 &asymp;</span>
    <span title="所需總浪費時間">23:35</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://la-sai-de-ren.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://www.blog.lasai.com.tw/2025/03/08/%E6%88%91%E7%9A%84%E9%96%8B%E7%99%BC%E7%92%B0%E5%A2%83-2025/";
    this.page.identifier = "2025/03/08/我的開發環境-2025/";
    this.page.title = "我的開發環境 2025";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://la-sai-de-ren.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>


  <!-- <div class="snow1" style="position:fixed !important"></div> -->
  <div class="cobweb" style="position:fixed !important"></div>
  <div class="spider" style="position:fixed !important"></div>
<div class="fswitch">關閉</div>
<div class="snowflakes" aria-hidden="true">
  <div class="snowflake">
 🌹
  </div>
  <div class="snowflake">
 💩
  </div>
  <div class="snowflake">
 🌹
  </div>
  <div class="snowflake">
 💩
  </div>
    <div class="snowflake">
 🌹
  </div>
  <div class="snowflake">
 💩
  </div>
    <div class="snowflake">
 🌹
  </div>
  <div class="snowflake">
 💩
  </div>
</div>

<!--
<script>
	function toggleSpell() {
		let spell = document.getElementsByClassName('spell')[0];
		let ghost = document.getElementsByClassName('ghost')[0];
		let noise = document.getElementsByClassName('noise')[0];
		let noise2 = document.getElementsByClassName('noise2')[0];
		if (spell.style.display === 'none') {
			spell.style.display = 'block';
			noise.style.display = '';
			noise2.style.display = '';
			ghost.style.display = 'none';
		} else {
			spell.style.display = 'none';
			noise.style.display = 'none';
			noise2.style.display = 'none';
			ghost.style.display = 'block';
		}
	}

	//訂閱內容
	let spell = document.getElementsByClassName('spell')[0];
	let ghost = document.getElementsByClassName('ghost')[0];
	spell.addEventListener('click',toggleSpell);
	ghost.addEventListener('click',toggleSpell);
</script>
-->

<script>

let cobweb = document.querySelector('.cobweb');
let spider = document.querySelector('.spider');
let back = document.querySelector('.back-to-top');
let fswitch = document.querySelector('.fswitch');

document.addEventListener('keydown', function(event) {
	if (event.key === 'f') {
		console.log('press f key');
		ftoggle();
	}
});

fswitch.addEventListener('click' , function(){ 
	ftoggle();
});

function ftoggle(){
	if(cobweb.style.display === ''){
		cobweb.style.display = 'none';
	}else{
		cobweb.style.display = '';
	}
	if(spider.style.display === ''){
		spider.style.display = 'none';
	}else{
		spider.style.display = '';
	}
	if(back.style.display === ''){
		back.style.display = 'none';
	}else{
		back.style.display = '';
	}

	if(fswitch.innerText === '關閉') fswitch.innerText = '乖乖'
	else fswitch.innerText = '關閉'
}



</script>

<script>
class ViNavigation {
  constructor() {
    this.Mode = {
      Normal: "normal",
      Motion: "motion",
    };

    this.lastKeyPressTime = 0;
    this.lastKeyPressed = "";
    this.currentMode = this.Mode.Normal;

    //可使用移動的字碼
    //共 18 個字 排除 vi 會用到的字
    this.tagChars = "ABCEILNOPQRSTVWXYZ";

    //目前的 vim 標示字標籤 array
    this.holdTags = new Array();

    //預先建立兩字組合的字典
    this.dict = new Array();
    //雙層迴圈灌入所有兩字組合
    for (var i = 0; i < this.tagChars.length; i++) {
      for (var j = 0; j < this.tagChars.length; j++) {
        this.dict.push(this.tagChars[i] + this.tagChars[j]);
      }
    }
  }

  viGoTop(keyPressed) {
    if (keyPressed === "g") {
      window.scrollTo({ top: 0, behavior: "smooth" });
    }
  }

  viGoBottom(keyPressed) {
    if (keyPressed === "G") {
      console.log("document.body.scrollHeight", document.body.scrollHeight);
      let h = Math.max(
        Math.max(
          document.body.scrollHeight,
          document.documentElement.scrollHeight
        ),
        Math.max(
          document.body.offsetHeight,
          document.documentElement.offsetHeight
        ),
        Math.max(
          document.body.clientHeight,
          document.documentElement.clientHeight
        )
      );
      window.scrollTo({ top: h, behavior: "smooth" });
    }
  }

  viFastDown(keyPressed) {
    if (keyPressed === "d") {
      this.move(350);
    }
  }

  viDown(keyPressed) {
    if (keyPressed === "j") {
      this.move(100);
    }
  }

  viFastUp(keyPressed) {
    if (keyPressed === "u") {
      this.move(-350);
    }
  }

  viUp(keyPressed) {
    if (keyPressed === "k") {
      this.move(-100);
    }
  }

  move(val) {
    var currentPosition =
      window.pageYOffset || document.documentElement.scrollTop;
    window.scrollTo({
      top: currentPosition + val,
      behavior: "smooth",
    });
  }

  removeViTags() {
    let allTags = document.querySelectorAll(".vim-tag");
    allTags.forEach(function (tag) {
      tag.parentNode.removeChild(tag);
    });
  }

  createViTag(text, href, top, left) {
    let newDiv = document.createElement("div");
    newDiv.classList.add("vim-tag");
    newDiv.style.fontFamily = "Arial, sans-serif";
    newDiv.style.fontSize = "12px";
    newDiv.style.position = "absolute";
    newDiv.style.backgroundColor = "#89CF07";
    newDiv.style.color = "black";
    newDiv.style.padding = "2px";
    newDiv.style.borderRadius = "2px";
    newDiv.style.zIndex = "999999";

    newDiv.textContent = text;
    newDiv.dataset.href = href;
    newDiv.style.top = top;
    newDiv.style.left = left;
    return newDiv;
  }

  createViTags() {
    let allTags = document.querySelectorAll("a");
    let counter = 0;
    for (let tag of allTags) {
      let rect = tag.getBoundingClientRect();
      let href = tag.href;
      //這個距離需要加入卷軸距離才會正確
      let top = window.scrollY + rect.top + "px";
      let left = window.scrollX + rect.left + "px";
      let text = "";
      if (allTags.length <= this.tagChars.length) {
        text = this.tagChars[counter];
        this.holdTags.push(text);
      } else {
        text = this.dict[counter];
        this.holdTags.push(text);
      }
      let newDiv = this.createViTag(text, href, top, left);
      document.body.appendChild(newDiv);
      counter++;
    }
  }

  //找出目前的首字 array
  firstCharArray() {
    let result = [];
    for (let i = 0; i < this.holdTags.length; i++) {
      let text = this.holdTags[i];
      if (text) {
        let theChar = text[0].toLowerCase();
        if (result.includes(theChar) === false) {
          result.push(theChar);
        }
      }
    }

    return result;
  }

  toggleMotion() {
    this.currentMode = this.Mode.Motion;
    this.lastKeyPressed = "";
    console.log("mode", this.currentMode);
    this.createViTags();
  }

  toggleNormal() {
    this.currentMode = this.Mode.Normal;
    console.log("mode", this.currentMode);
    this.removeViTags();
    this.holdTags = [];
    this.lastKeyPressed = "";
  }

  handleKeyDown(event) {
    let currentTime = new Date().getTime();
    let keyPressed = event.key;

    //按下 F 時進入 motion 模式
    if (this.currentMode === this.Mode.Normal && keyPressed === "F") {
      this.toggleMotion();
      return;
    }

    //按下 esc 跳離 motion 模式回到 normal 模式
    if (this.currentMode === this.Mode.Motion && keyPressed === "Escape") {
      this.toggleNormal();
      return;
    }

    //當 motion 一個字時才走這模式
    if (
      this.currentMode === this.Mode.Motion &&
      document.querySelectorAll("a").length <= this.tagChars.length &&
      this.tagChars.toLowerCase().includes(keyPressed)
    ) {
      console.log("one char mode");
      let allTags = document.querySelectorAll(".vim-tag");

      allTags.forEach(function (tag) {
        if (tag.textContent.toLowerCase() === keyPressed) {
          window.location.href = tag.dataset.href;
        }
      });

      this.toggleNormal();
      return;
    }

    //當 motion 兩個字才走這個模式
    if (
      this.currentMode === this.Mode.Motion &&
      document.querySelectorAll("a").length > this.tagChars.length
    ) {
      console.log("motion lastKeyPressed", this.lastKeyPressed);
      console.log("motion current", keyPressed);

      if (!this.lastKeyPressed) {
        //如果出現字表以外的字則回到 normal
        //console.log("firstCharArray", this.firstCharArray());
        if (this.firstCharArray().includes(keyPressed) === false) {
          this.toggleNormal();
          return;
        } else {
          let allTags = document.querySelectorAll(".vim-tag");
          allTags.forEach(function (tag) {
            if (tag.textContent[0].toLowerCase() !== keyPressed) {
              tag.parentNode.removeChild(tag);
            }

            //將第一個字變為紅色
            if (tag.textContent[0].toLowerCase() === keyPressed) {
              tag.innerHTML =
                '<span style="color: red;">' +
                tag.textContent.charAt(0) +
                "</span>" +
                tag.textContent.substring(1);
            }
          });
        }
      }

      //如果有字的話才執行
      if (this.lastKeyPressed) {
        let chars = this.lastKeyPressed + keyPressed;
        console.log("chars", chars);
        let allTags = document.querySelectorAll(".vim-tag");
        allTags.forEach(function (tag) {
          if (tag.textContent.toLowerCase() === chars) {
            window.location.href = tag.dataset.href;
          }
        });
        //萬一沒找到切回 Normal
        this.toggleNormal();
        return;
      }
    }

    // 任何模式按兩下的區域
    if (
      keyPressed === this.lastKeyPressed &&
      currentTime - this.lastKeyPressTime < 300
    ) {
      this.viGoTop(keyPressed);
    }

    // 按一下的區域
    this.viGoBottom(keyPressed);
    this.viDown(keyPressed);
    this.viFastDown(keyPressed);
    this.viUp(keyPressed);
    this.viFastUp(keyPressed);

    this.lastKeyPressTime = currentTime;
    this.lastKeyPressed = keyPressed;
  }

  init() {
    document.addEventListener("keydown", this.handleKeyDown.bind(this));
  }
}

const viNavigation = new ViNavigation();
viNavigation.init();
</script>



</body>
</html>
